# Production override
# Usage: docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d
#
# The router exposes HTTP on port 17080. Configure your reverse proxy
# (nginx, Traefik, etc.) to handle SSL and forward traffic to this port.

services:
  router:
    ports:
      - "17080:80"

  hub:
    command:
      - "environment=production"
      - "spawner_api_url=http://spawner:8080"
      - "lobby_url=ws://router/lobby"

  spawner:
    command:
      - "server_type=spawner"
      - "environment=production"
      - "images_file=/app/images.json"
